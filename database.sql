-- phpMyAdmin SQL Dump
-- version 5.1.1
-- https://www.phpmyadmin.net/
--
-- Host: localhost
-- Generation Time: Nov 13, 2025 at 09:52 PM
-- Server version: 5.7.42
-- PHP Version: 7.2.30

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `liveinsb_tickets_db`
--

-- --------------------------------------------------------

--
-- Table structure for table `attachments`
--

CREATE TABLE `attachments` (
  `id` int(10) UNSIGNED NOT NULL,
  `ticket_id` int(10) UNSIGNED NOT NULL,
  `user_id` int(10) UNSIGNED DEFAULT NULL,
  `filename` varchar(255) COLLATE utf8_croatian_ci NOT NULL,
  `filepath` varchar(255) COLLATE utf8_croatian_ci NOT NULL,
  `filesize` int(10) UNSIGNED DEFAULT NULL,
  `uploaded_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_croatian_ci;

-- --------------------------------------------------------

--
-- Table structure for table `company_info`
--

CREATE TABLE `company_info` (
  `id` int(11) NOT NULL,
  `name` varchar(255) DEFAULT NULL,
  `address` varchar(255) DEFAULT NULL,
  `oib` varchar(255) DEFAULT NULL,
  `phone` varchar(255) DEFAULT NULL,
  `email` varchar(255) DEFAULT NULL,
  `logo` longblob
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Dumping data for table `company_info`
--

INSERT INTO `company_info` (`id`, `name`, `address`, `oib`, `phone`, `email`, `logo`) VALUES
(1, 'Mark Medical d.o.o.', 'Pere Budmanija 5', '70612360737', '+385 1 606 5440', 'sluzbeni-hr@mark-medical.com', 0x89504e470d0a1a0a0000000d4948445200000162000000410806000000eb13ae560000000473424954080808087c08648800001c5149444154789ced9d6b705357b6e7ffe7a1871ff24bf2537e1b638cc1c6d0c41dd201027108155e0ddd49039da99e4c5775cd87fed073aba66ae653aae6d6ad5b756bee7cb9553d95b99deaf40d81e66508a1010336710013424c6c8cc1181bc976c0f243b66c49968e8ece990fbe3a5747e7c8966cd9c278ffaa5ca0a3a3bdd73e8fb5d75e7bedb52951144510080402216ed0f11680402010563a4411130804429c61e32dc07cf07cf31d7c9d4f009a9a670914e88c54b0e66c682a4a411bd3632a1f81402044c3f254c4cdad709fbb1a93b218730ef45b3723e9fdf7c0169963522681402044c3b2744d505a4dcccaf2ff3804d7f10b18fd4f7f07f7d92b312b974020102265592ae2c540987261e2efff8528630281b0e410451c82e39fff15fcc08b788b412010561044118720ba3d701d3b176f310804c20a62594ed62d36dedbf721721c28ad36dea2102284e338d86c36242626c26834c65b9c571e4110f0e38f3f82e33864666622252525de222d0a2e970b369b0d1445213737177abd1ec04cfbbd5e2f288a024551100401344d83a6690882009d4e2795e1f57a41d334349af0735b4411abe01f1e83303a01262f0bcecfcfc1f7b817c07c43e544d0097ab0a585d06ea884a672552c45250078f2e4096edcb881f1f171bcf6da6b78ebadb7e22dd22bcdd4d414befcf24b0c0e0e02006a6a6af0eebbefc659aad8d3d7d7874b972ec1e9740200f6ecd983aaaa2a0080cd66c3f9f3e7014052c2e9e9e9484e4e86c562c1a1438790939383c1c1419c3f7f1eab56adc2ae5dbbc2d64514b10a22c741187780c9cb82f7e63d78efb6c7ac6cedba0a24ffe743d0bff57accca5cc9041e7441100000344dbc6d8bcdb56bd72425fcaae2f17870f9f265490987929999895ffdea57181c1cc4d5ab5771f8f061242626e2c68d1b703a9d78f8f021727272d0d9d909a7d309b7db3d6b7de4a90d8330e50200507add1c674607d7d90dfbdffd0326ffcfa7312d77a572f3e64d490913169fe9e9690c0c0cc45b8c456768680853535361bf675916696969484d4d05cbb2484f4f474a4a0a689a865eaf87c56281d3e9447f7f7f446e1ba288c3207abc8b5abef3df1a30f5ff4e2c6a1daf3a93939378fefc79bcc55851f8fd7eac843c617ebf3faaf302c600cff3282c2c044dd3686c6c844ea743717131789e9fb51ca288c3315f97701438fff5aff03db52c7e45af282e970b3e9f2fde62ac28286a095e8c978048db298a22388e933a278ee390949484929212f4f4f4a0bcbc1c7abd1e1cc7cd5a0e51c47144f4f1709f6d8cb7180460455879b180f8e0e524272763eddab560d999e9b6a2a222e4e6e662fdfaf5a8a8a840555515b2b3b3515252326b3964b22ece70df3f000431aa0446d7ae5d437f7f7fcc6448494981d96cc69a356b909eae9e0089e7799c3a750ad3d3d373961708212b282840696929b4118601badd6e3c7bf60c030303181b1b83d7ab740fa5a6a6e2d0a1431195178add6ec7f5ebd7c1719c64f1088280b4b434bcf3ce3b11c9e9743ad1d0d010334b9c6118188d46141717a3a2a262d6102700b05aad78f4e8116c36db9cc367bd5e8ffcfc7cac5bb70e19191973cae2f7fb61b55a61b55a61b7db55afbf2008735a77c04cc7d6d6d686a74f9f0200de78e30de4e7e7873d7f787818168b05369b6d56dfac288a282c2cc49b6fbe291db3dbedb87cf9f29c32310c83949414646767a3a8a82826618e999999d8bd7bb7f4b9aeae4efaff81030700cc3cb3734114719cf18fd8214c3941a71a22fecdf8f8384646466226c3c8c8087a7b7b71e7ce1d6cd9b245f630859e178922066614465b5b1b8c4623b66edd8ad5ab57cf7afefdfbf7d1dada3aeb4b08202225a086dbedc6b973e714d78da6696cddba35e2cec2eff763686828a6138443434378f8f021eedebd8b5dbb76c16c564f3ed5d4d484efbefb2eaab2070606d0d6d686fafa7a29f44a0dabd58ae6e666d86cb6a8ca0f477373b34cd6d5ab57ab2a62a7d389e6e6663c7efc38e26b9a949424fb2c8a62d413880cc3a0a2a202dbb66d7b2962a0c93823ce881e2f8449f5109970300cb328b2701c871b376ee0ce9d3b8aef589645515151d4658e8d8da1a1a1016d6d6d61cf696969416363e39c4a18985fdb799ec7f9f3e7154a9861181c3a74088585855195171886c69a9191119c3e7d5ab593fde1871fa256c201bc5e2f2e5dba84e1e161d5efbbbaba70f2e4c99829e1f1f1717cfffdf7b2636af7cde170e0c48913e8eaea8aaa63abacac947d4e4f4f474e4e4e5432fafd7e747575e1d8b163181b1b8beab78b0151c47146e43888aec8accca5e2d6ad5bb0dbed8ae3dbb66d437e7efebc266cae5fbf8ea1a121c5f1a74f9fa2b5b535e272e6e3cbbd74e992aa2b67f7eedd282d2d8dbabcc5c4e3f1a0a9a949768ce779dcbd7b57f57cad560b9d4e27fb53b3eefd7e3feeddbba7383e323282cb972fc7d4c277381c73962708022e5ebc189512a4691a757575a8a8a8501cafafaf475a5a5ad4b24e4e4ee2abafbe8a384a62b120ae89782388c0021f029d4e87bd7bf74acb2f038c8e8e2a7c671b376ec4dab56b01ccbce0030303b877ef9ecc1fc8f33c1e3c78806ddbb6c97e9b969686a3478f626464445ade198cdfefc7e4e424fafafaf0e8d1237933050177eedc91fc66c08c525553c22ccb62eddab528282840626222589605c3301045714e1f6a28cdcdcde8eaea521cdfb163c7ac43f568282d2dc5962d5b14c7dbdada6475d3348d7dfbf621393919a228c2ed76a3abab0bddddddb2df59ad56d86c366467670398b98fe3e3e3b2734c2613b66fdf8ecccc4cc57d104511fdfdfdb876ed9aecbef6f7f783e7799945ffcd37dfa8fabb2b2a2a5054540483c1209ba0f3783cb872e5caac2ea2483aeaaeae2e5577426e6e2ecacbcb919191a1b8d7068301999999aae5e5e5e5e137bff90d868686144a5514454c4f4f636c6c0c4f9f3ec5e8e8a8ecfba1a1217477774bef453c208af865608111410cc3a0a0a040610905af770f90919121f341161515213b3b1b0d0d0d326b73369f5bb89721c0ba75eb505151810b172ec85e8afefe7e783c1ea9c3181f1f5758c93a9d0e070f1e8cda5da0c677df7da76a49d6d5d561f3e6cd0b2e3f407272b2aa5fb7b7b757712c3f3f5fe6e35cbd7a352e5cb82053d8a2286270705052c41313138a72de7efbed595d45ebd6adc3c8c888acfd6eb71b6eb75bf2898e8d8d2964a4691a7bf6ec510cff03701c876bd7ae85ad37527ef8e107c5b10d1b36a0bebe7ede91193a9d6e4ef7d9962d5bd0d8d888cece4ed9f1c78f1fc7551113d7c42b829a55a31644ae36042b2f2f5728d7a9a9a93983d067a3a2a242f1327b3c1e381c0ee9f3c4c4846208bb61c3869828e1478f1e2986f800b07efd7a6cdfbe7dc1e507136e18ae765ced9a6edab4496145065bc0a1f78c6198b0d12dc1646565298e0577b656ab55216375757558250ccc3c670b0df59b989850f8a3535353b173e7ce450f8fd3683478efbdf76030c827c7c7c7c7e31ac2482c62028099615ff0640ecff3f0f97caa13532f5ebc80cd6683c7e3093b0ca5280a2e974b764c14459922525b7f1fb002e78b46a381c3e1c0a54b9714df959595bd94c969929292c0308cecdacc36f40f58cc738545cd155913aa0c298ac2faf5eb239078618c8e8e2a3aa4cacaca984c820e0f0fab961f0c4dd3d0e974b2c9619fcf079fcf1771f44cac218a98a04a20bd5f30c3c3c3b87efd7acc6298d52c9085aedca2280af7eedd538c10f2f2f2b077efde97724142b496982008b870e1c282eb9d9c9c947d4e4848589214a26ad131b9b9b90b2ad362b1a0a5a5052f5ecc6f53079ee7e33a61b73c15b19f2479596a1c0e074e9e3ca9b07263cd4287871e8f073ffef8a3ec587676360e1e3ca8ea335fc9783c1ed967bd5e1ff564682cea0594b1c1d160b55a71e6cc9905b9d2e2bd74fbe5330f2281599e622f676eddbab5e84a381688a2a8f07b1a0c8605bde8af0aa1feddd04e6fa994919ae539dfbafd7e3fae5fbfbe2025fc32b03c2de2a5c8c84390f0783caa11009999996157810133bec0a5ce5babd7eb61341a65fecfa74f9fa2b1b111efbcf3ce92cab298e4e5e521353535aa1104c330321f68a8f5cbf3bc94e47c31511b99cc77c9f8f3e7cf557de1595959619775531485fefefe97cab058968a983610eb662971381c8a89b5a2a222fce217bf987582a5bdbd7dc915314551d8b871a32276f8fefdfb484c4cc4cf7ef6b3259567b1a8abab9b73d9f85c848e12dc6e375c2e5744b91116426262a2e298dd6e9fd7ca4db5d5829b366dc28e1d3b66ed504e9f3ead6a5cc48b6539c6a74d7387ee1062879ab552525232e72c773c868b1cc7c16c36abe6cbb875eb16eedfbfbfe4322d143585123ad1361f4243e07c3e1f2c16cb82cb8db65e005272a06851b36ad7af5f3fa755ffb265db5b968a982dcc8bb7082b1eb5099750e23901b27dfb76d500fdab57afe2c99327719068fea859a8f7efdf8f38015338d4e2b5efdebd3b6bb9b1b8a726934911c7fbecd9b37959a86af2446200c47b722e9465a988356bcb41a7c53f63d24a2121214161613c78f000bdbdbdf07abd520c66e85fbc275076efdead18ee8aa288afbefa6a596df76332991419c2ec763bbef8e20b747676627c7c3cec7d988dfcfc7c457e06bbdd8e53a74ec16ab582e338088220fb8b45889756ab55b8554451c4850b17d0dede0e97cba5a837b8fe606b3654a103406b6b2b262727c3962108c24b67112f4f1f71aa0189fbdf86f3b3b3f116654590969686f4f47459821697cb85d3a74f23313131ac75116f45ccb22cf6eddb87e3c78fcbf20bf87c3e9c3f7f1e1f7cf0c19ccbb55f06b45a2d6a6b6bf1f5d75fcb8e8f8e8ee2e2c58b6059165aad56f53ea4a4a460f3e6cdaaabe5341a0deaeaea70e5ca15d9f1172f5ee0c4891330180cd0e97432a515d8467ea1fce4273fc183070f640b57bc5e2f2e5fbe0cbd5e8fa4a4245014a55098a228a2b4b4143b77ee04a01e7fdcdbdb8b4f3ffd14c9c9c9aa7553141513d74e2c59968a180092ffcbfbf0de6e83afc7b2b815bd643d673c601806b5b5b5aa3906e6da9d36de242626e2e73fff398e1f3f2edb91d7e572e1ecd9b3387cf8f04b918f762e366fde0cabd5aaeac3e5793e6ca7e772b9f0e5975f22292949d515515353038bc5a2483c04cc2cbc882435e97c484b4bc38e1d3b5413ba7b3c9e595d5fc1d110595959282a2a82d56a959de3f57a63d2612c15cbd2350100747212d2fff7ff84a6aa7c712b621727f7ef4250b312e6fbdb48cbacadad55a41f7c1951cbef90919181fdfbf72b96af4e4c4ce0cc99330bee4c6231cc9dab0c866170e0c08179678cebe8e8503d4e5114f6ecd913978437353535a8afaf8f7a1149b09b8ca228d4d7d72f384e3cdeae8a65ab880180cdcf85e9937f80e1bf1e0593a74c70b220f8195f186d501fdec4938528e2f99649d334f6efdf8ffafa7ae4e6e6be14abd45896454a4a8aec2f212141f5dcfcfc7cbcf7de7b484b4b939def72b970f3e6cda8f2f1467a6ee8350cf73b511423baa73a9d0e7bf6ecc1e1c387515d5d0da3d1089d4e078661c0b26cd83f866164a381505896c5debd7b71f0e041ac5ab52a6aa516da2e35d9c33da31b376ec4871f7e88dada5aa4a7a74714c31c5a9fd168c4d1a347515555a51a1a17090b69432ca0c4787705314274b9c1753e81efd153f86d631026ff7d4815edeca82802a288e40f7f0e4de52a4cfddf6398fa6471b7bdcffcfc9fa1591bb9653f3131211b76d1340da3d1a878887d3e9f22c1bbc160507d58d5ca34994c61fdbf535353f0783c5127140fce331b9a8d0d98891008cdab1c8ed02442a2288261985977f108ac2e0bb44b1445f8fd7ee8f5fa8866d2fd7e3fec76bbacdd090909aaee0da7d3290bafa2280a46a351219fdfefc7d8d898ec450f5766308220c0e572cde98b174551eab422617a7a1a4ea713d3d3d311dd5f83c120cb51e1f17814e94d4d2653589f6d009ee731393989e9e9e959271a939292c2faf6dd6eb7f46c46a3da5896455e5e9ef40e4d4f4f2b922245d286f9f2ca28e2c562fada2d8cfff77f5cd43aa255c40402e1d56259bb269602dda675516dec49201008d14214f11cd0e9a9483abc2fde621008845718a2882320f93787a07b7d63bcc5201008af2844114700a5d520e39ffe0712de7b2bdea210e28c288ae0382eaee14ea10b2c66dbcd83b03c208a3842a8443dd2ffd77f83f15f3e867ee716d0c6d8251e1205325fba5c989a9ac2679f7d86e7cf9f2f497dadadadb879f326801905fcb7bffd4d9659aea7a707c78e1d23ca7899b36c57d6c50bdd964dd06dd904c13105ffe010fcc3a310f985adbf27498c960f822060626262c992c6f4f4f4482bc9288a42676727f2f2fee379e1380e0e87236e7bad11620351c4f3844e35804e352cfecabe30bc78f1024343435212169aa691939323bda403030318191991e240699a064551f0fbfda0280a595959282828003093e8c562b1286246535353515a5a2ac5bd721c87bebe3e697180288a484c4c446969a9b490a2a7a7075aad564ab6f3ecd933293f0000f4f7f7c3ebf5a2bc7ce6ba4d4f4fe3d9b36770b95c526e0183c180d2d25249b978bd5ea9dec4c44454555581e3380c0e0ea2a4a4041cc7e1d1a347b2843001d94a4a4a6471d3168b4511b34bd334cc6673441b975214058661f0f0e143bc78f1425a8c91909080e2e262599ca9d56ac5e8e8a85417cbb228282890626e272727d1dddd2d8b69d66ab5282c2c94524506166b00338996288a82c562014dd358bf7e3d1886812008b873e70e341a8d5497dabdebeded95c5356bb55a545757c3e7f3a1b3b35396d087a669e4e6e6ca72398c8f8fa3bfbf1f1cc7212727477a7e9e3d7b06bbdd2e5d8bd03610e68628e26548777737ce9d3b07ad562b05a0077c857bf6ec41555515dadbdbf1f0e14369714460edbe5eaf87288af07abd78ebadb7f0da6baf6170701057af5e55ac96f37abd58bb762df6eedd0b4110d0d0d0008bc5229d4751143c1e0fb2b2b270e4c811e8743adcbe7d1b6969699222be77ef1e0441901471474707c6c6c6505e5e0eafd78b13274e60787858922b506f515111de7fff7d88a288d3a74f637070103a9d0e191919a8aaaac293274fd0d4d484dffffef770bbddb872e58ab48a2c58b6c0aaab848404b4b4b4a0b5b555b59dafbffe7ac43b48531485070f1e806118697188d7eb85c160c0871f7e88e4e464b4b6b6a2a5a54576ad789e074551f8e0830f60369be1f3f9f0fdf7df4bf786a22869e7ec23478e202b4bbe5af4c18307100401bdbdbd181919c1ba75ebc0300c7c3e1feedcb933ebbd3b7bf62cac56ab4c9e356bd6a0baba1aa228e2e1c387b2c448015ff8be7dfb505959099bcd862fbef8027ebf1f2ccba2b6b616050505686e6ec6ddbb7765e5fa7c3e68341a1c3972645924557a19208a7819d2d1d101b3d98cf7df7f5f52c4a228e2cc9933686f6f475555150441405151110e1e3c0800b87efd3a6c361b8e1c39025114d1d8d8888e8e0ebcf6da6b006692e37cf4d147b275ff1d1d1d686a6a427d7d3ddc6e372c160bf6eedd8b55ab5649e70c0d0de1f8f1e3b0d96c282c2c8446a391258c6759566669b32c2bd561b3d9303c3c8ca3478f222727473aa7afaf0f0d0d0d703a9df07abd181c1cc4810307505c5c2cb597e338300c2359930cc3e097bffca5ac9c9191117cfef9e778fefc39cacacad0dede8edada5a6cdbb64de65af8cb5ffe12f1e45bc0eadbbf7fbf641102332b13fffce73f63606000959595686f6f47757535eaebeba573789ec7a79f7e8aeeee6e98cd66188d46fcee77bf9359a25eaf177ffad39ff0f8f163491107643b70e000fef8c73fe2cd37dfc4860d1b40d334789e474242023efae823997ba2bdbd1dcdcdcdd2bdb35aadd8b76f1fcacacaa47302e76bb55afcfad7bf96add0130401a74e9d426767272a2b2bd1d3d3038661f0dbdffe165aad56baaf1d1d1da8abab93ed7ce2f57af1c9279fa0bbbb9b28e208218a7819c2f3bcb45f59f04b6c3018644b9a83f728635916344d4b9f43f775a3280a7abd5eb6fc36272707344dcb66e64d2693ec85cfc8c88056ab8d7aa933f01f567a424282ac1dc1c3fbc0f18c8c0c9925abe6a3d56ab532d9727272a0d1682405230882a21c407d078cb9d0e974b2ba4c2613121212a4ba789e47525292ac5d14452129294971ad82cf6159167abd5e35735820d5a546a391ea0e58e43a9d4ed6899a4c2688a2089fcf07bfdf0f866190939333ab2f3934d7707272b22407cff348494991e5ff0db423252545d1069d4e472610a38028e2658856abc5a3478fd0dbdb2b594b81e1b15aaa43409958462dc1b7200832452c0882a4f002ff86fe6e2149b603757df6d967a0695a2a474da94792903c548ec06f82db309f0e438d70ca34509756abc5b7df7e8bb6b636995c1cc749f7a8afaf0fd7ae5d83d3e994752c1cc7a9ee4717ecff8e441e8aa264e586bb86636363b878f12246474765d72a580eb5dcc0c04c87d4d4d484969616453b67cbf941904314f13284e77914161662f3e6cdb217306071c58a604b3158e187124d0441f0b901d9df7efb6d2426262a26d0929292629a0f3738d9cf62c3f33cd6ac5983b56bd72aee51464606445144535313f47a3db66ddb26f99b01a0b1b131263b618412cef2bf7dfb361c0e07de7df75d68b55ae93a7dfbedb7732614f2f97ca8a9a9416969a9ac9d344d93c9ba28208a7819e2f7fb91909020f3f72d94c09037188fc72329848075a3962e90e77999b516fcc287befcc159b102df959797874d5f19eb85134bb56b882008484f4f0f7b8ffc7e3fdc6e376a6a6a14799e5b5a5a6266b90390a265c2254a77381c309bcd8a9cc43d3d3d73ee64c1f33c4c26534c9fc5950851c4cb90929212b4b4b4e0e4c993605956b2600a0b0bb169d32669e63a389560e82e0e7ebf5ffa9ea6694c4f4fe3f4e9d3b2a1e9e0e0204c2693e43b4e4a4ac2f9f3e7919d9d2dd5393e3e0e9aa665b1ae3d3d3d92c2edefef070034343480e779f4f5f5e1a73ffd2900203333131a8d06c78e1d93acc440d8d91b6fbc21f9c101f5dcbe01f903be7235e515bc779ed96cc6ad5bb7148b311c0ec79c3b520708f85dd5f207731c27d555545484dbb76f636868481ad6330c83356bd6a0b2b2120cc3202f2f0f2d2d2dd2350a303a3a2ab92f82ef5bb0cf37f83aa8f962032e23bfdf8fd4d454242727e3dcb973d2bd03667cc0bb76ed42696929bef9e61bc5f33430302085aff13caf484d49d334f2f2f2d0dcdc8cbebe3e49469665b16edd3a6952b7b1b111050505aadb351166603efef8e38fe32d04213a727373a1d56a61b7dbc1f33cfc7e3f789e87cbe5425959195896c5d4d4140c0683f4423b9d4ee8f57a9494940098c9dbcab22ccacaca303c3c8ca74f9f4a936681f2cc66b3e436605916454545989a9a82dbed96ce494d4dc5ce9d3ba5d02fa7d32985c7f13c2f2562f77abd104511353535a8abab03c330d0e974c8cbcb9372d00694a9c7e3415a5a1a8c46a394a336d46a0ee4425ebd7a35fc7e3f1c0e0756ad5a253b471445d8ed7694949420252505858585e0791e4ea753b689a4d3e9445e5e5e58ff7a308220c0e170a0acac4ce606124511131313282c2c445a5a1a0a0b0b218a22262727c1f3bcd471f03c8fd2d252a9e30cb42f70ddfd7e3f32333351525282acac2c381c0e188d46e4e5e549ed292e2e963abec0a8a5bcbc5ce693e5380e6eb75bba6ea1f72e1086b67af56a98cd66b02c8bf1f171d9f3140843cccfcf87dbed8646a391c21003141717c3e7f3496d08b4531004e959b3582c48494981c9648aea395f49907cc404b4b5b5e1ebafbfc61ffef087788bb2e4701c874f3ef904d5d5d5d8ba756bbcc521ac50886b82808c8c0cac59b3460a737ad5f9eb5fff0abbdd0e8aa2e076bb4151946a940281b054108b98b0e2b87bf7aeb4d457a3d1a0b8b818f9f9f971968ab092218a98402010e20c4983492010087186286202814088334411130804429c218a98402010e20c51c4040281106788222610088438431431814020c419a28809040221cefc7f0e32b8198c9ed5f20000000049454e44ae426082);

-- --------------------------------------------------------

--
-- Table structure for table `devices`
--

CREATE TABLE `devices` (
  `id` int(11) NOT NULL,
  `name` varchar(255) COLLATE utf8_croatian_ci NOT NULL,
  `image_path` varchar(255) COLLATE utf8_croatian_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_croatian_ci;

--
-- Dumping data for table `devices`
--

INSERT INTO `devices` (`id`, `name`, `image_path`) VALUES
(1, 'Ulrich CT Motion', 'img/devices/69164d1c01d15.jpg'),
(2, 'Ulrich MAX2/3', 'img/devices/69164d2b65730.jpg'),
(3, 'Vernacare Vortex AIR', 'img/devices/69164d367859b.jpg'),
(4, 'Vernacare Vortex+', 'img/devices/69164d3ccf3a1.jpg'),
(5, 'ACIST CVi', 'img/devices/69164d432dcb6.jpg'),
(6, 'Eurosets ECMOLIFE', 'img/devices/69164d4b21613.jpg');

-- --------------------------------------------------------

--
-- Table structure for table `tickets`
--

CREATE TABLE `tickets` (
  `id` int(10) UNSIGNED NOT NULL,
  `user_id` int(10) UNSIGNED DEFAULT NULL,
  `assigned_to` int(10) UNSIGNED DEFAULT NULL,
  `title` varchar(255) COLLATE utf8_croatian_ci NOT NULL,
  `device_name` varchar(255) COLLATE utf8_croatian_ci NOT NULL,
  `serial_number` varchar(100) COLLATE utf8_croatian_ci NOT NULL,
  `description` text COLLATE utf8_croatian_ci,
  `priority` enum('low','medium','high','urgent') COLLATE utf8_croatian_ci DEFAULT 'medium',
  `status` enum('Otvoren','U tijeku','Riješen','Zatvoren','Otkazan') COLLATE utf8_croatian_ci DEFAULT 'Otvoren',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `canceled_at` datetime DEFAULT NULL,
  `cancel_reason` text COLLATE utf8_croatian_ci,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `request_creator` varchar(255) COLLATE utf8_croatian_ci DEFAULT NULL,
  `creator_contact` varchar(255) COLLATE utf8_croatian_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_croatian_ci;

--
-- Dumping data for table `tickets`
--

INSERT INTO `tickets` (`id`, `user_id`, `assigned_to`, `title`, `device_name`, `serial_number`, `description`, `priority`, `status`, `created_at`, `canceled_at`, `cancel_reason`, `updated_at`, `request_creator`, `creator_contact`) VALUES
(1, 3, NULL, 'fddsf', 'Ulrich CT Motion', 'sdfsdf4444sfsdfds', 'sfdd fs df sdf sd f', 'medium', 'Otvoren', '2025-11-06 21:31:06', NULL, NULL, '2025-11-06 21:31:06', 'sdf', '+385916665544'),
(2, 2, NULL, 'tests admin za klijenta', 'Ulrich CT Motion', '345345erter', 'fgsdfg sdfg sdfg', 'high', 'Otvoren', '2025-11-06 21:36:08', NULL, NULL, '2025-11-07 08:05:34', 'Ticket Master (Admin)', 'undefined'),
(3, 2, NULL, 'problem s injekktorom', 'Vernacare Vortex AIR', 'sssss4444444', 'terminal ga ne proepoznaje', 'medium', 'U tijeku', '2025-11-07 17:08:51', NULL, NULL, '2025-11-13 18:31:23', 'karlo', '0979566556'),
(4, 2, NULL, 'kardiologija javlja kvar acista', 'ACIST CVi', '1234', 'ne radi im pumpa', 'medium', 'Otkazan', '2025-11-13 14:02:01', '2025-11-13 22:25:36', NULL, '2025-11-13 22:25:36', 'Ticket Master (Admin)', '+385 1 606 5440');

-- --------------------------------------------------------

--
-- Table structure for table `ticket_attachments`
--

CREATE TABLE `ticket_attachments` (
  `id` int(10) NOT NULL,
  `ticket_id` int(10) UNSIGNED NOT NULL,
  `attachment_name` varchar(255) COLLATE utf8_croatian_ci NOT NULL,
  `attachment_type` varchar(255) COLLATE utf8_croatian_ci NOT NULL,
  `attachment` longblob NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_croatian_ci;

--
-- Dumping data for table `ticket_attachments`
--

INSERT INTO `ticket_attachments` (`id`, `ticket_id`, `attachment_name`, `attachment_type`, `attachment`) VALUES
(1, 2, 'logo.png', 'image/png', 0x89504e470d0a1a0a0000000d4948445200000331000000aa08060000009ddfc19d0000000473424954080808087c086488000000097048597300001ec200001ec2016ed0753e0000001974455874536f667477617265007777772e696e6b73636170652e6f72679bee3c1a0000200049444154789ceddd77b82445d5c7f1efd96561890b88e49c730e22289291240a0650490a48508222022a22888a288280042588802220920ce49ca32039e7bc2c69d9853def1fd5f36edfde3b33dd35ddd333f7fe3ecfd3cfeebdb7abab66a667a64f57d52973774744444444444a43f7c3055f29f8f80e7ea6c89888888888888481bf303348298e780056b6b8a8888888888487b6381d123ea6e85888888888848110a624444444444a4af2888111111111191bea220464444444444fa8a82181111111111e92b0a624444444444a4af2888111111111191bea220464444444444fa8a82181111111111e92b0a624444444444a4af2888111111111191bea220464444444444fa8a82181111111111e92b0a624444444444a4af2888111111111191bea220464444444444fa8a82181111111111e92b0a624444444444a4af2888111111111191bea220464444444444fa8a82181111111111e92b0a624444444444a4af2888111111111191bea220464444444444fa8a82181111111111e92be6ee0e7c043c5777634444444444445a981f98d00862444444444444fac107ff07f9acf18250ed7da40000000049454e44ae426082);

-- --------------------------------------------------------

--
-- Table structure for table `ticket_logs`
--

CREATE TABLE `ticket_logs` (
  `id` int(10) UNSIGNED NOT NULL,
  `ticket_id` int(10) UNSIGNED NOT NULL,
  `user_id` int(10) UNSIGNED DEFAULT NULL,
  `action` varchar(100) COLLATE utf8_croatian_ci NOT NULL,
  `details` text COLLATE utf8_croatian_ci,
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_croatian_ci;

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE `users` (
  `id` int(10) UNSIGNED NOT NULL,
  `first_name` varchar(100) COLLATE utf8_croatian_ci DEFAULT NULL,
  `last_name` varchar(100) COLLATE utf8_croatian_ci DEFAULT NULL,
  `company` varchar(150) COLLATE utf8_croatian_ci DEFAULT NULL,
  `company_oib` varchar(20) COLLATE utf8_croatian_ci DEFAULT NULL,
  `city` varchar(100) COLLATE utf8_croatian_ci DEFAULT NULL,
  `address` varchar(150) COLLATE utf8_croatian_ci DEFAULT NULL,
  `postal_code` varchar(10) COLLATE utf8_croatian_ci DEFAULT NULL,
  `note` text COLLATE utf8_croatian_ci,
  `username` varchar(100) COLLATE utf8_croatian_ci NOT NULL,
  `email` varchar(150) COLLATE utf8_croatian_ci DEFAULT NULL,
  `phone` varchar(50) COLLATE utf8_croatian_ci DEFAULT NULL,
  `password_hash` varchar(255) COLLATE utf8_croatian_ci NOT NULL,
  `role` enum('client','agent','admin') COLLATE utf8_croatian_ci NOT NULL DEFAULT 'client',
  `is_active` tinyint(1) NOT NULL DEFAULT '1',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_croatian_ci;

--
-- Dumping data for table `users`
--

INSERT INTO `users` (`id`, `first_name`, `last_name`, `company`, `company_oib`, `city`, `address`, `postal_code`, `note`, `username`, `email`, `phone`, `password_hash`, `role`, `is_active`, `created_at`, `updated_at`) VALUES
(1, 'Ticket', 'Master', 'Mark Medical d.o.o.', '70612360737', 'Zagreb', 'Pere Budmanija 5', '10000', '', 'admin', 'admin@example.com', '+385991672233', '$2y$10$TDfWfPwYFtelY9GlHeu64.ffHhSBAunSWQlRS3BPoJ2Ovj7X86d7G', 'admin', 1, '2025-10-31 15:45:21', '2025-10-31 21:28:03'),
(2, 'Darko', 'Majetić', 'Mark Medical d.o.o.', '70612360737', 'Zagreb', 'Pere Budmanija 5', '10000', '', 'darko', 'majetic.darko@mark-medical.com', '+385991672233', '$2y$10$TDfWfPwYFtelY9GlHeu64.ffHhSBAunSWQlRS3BPoJ2Ovj7X86d7G', 'client', 1, '2025-10-31 16:48:17', '2025-10-31 21:26:48'),
(3, 'Ivan', 'Ivić', 'Medikol d.o.o.', '00000000001', 'Split', 'Ulica br 1', '21000', 'asfd asdf', 'test', 'test@test.com', '+38521222111', '$2y$10$OrjzD0NiXdkwNc3lyrcMvODAe9VQ1NEHoMfHquT5c9ShLxF5t8A6O', 'client', 1, '2025-11-01 23:57:45', '2025-11-01 23:57:45');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `attachments`
--
ALTER TABLE `attachments`
  ADD PRIMARY KEY (`id`),
  ADD KEY `fk_attach_ticket` (`ticket_id`);

--
-- Indexes for table `company_info`
--
ALTER TABLE `company_info`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `devices`
--
ALTER TABLE `devices`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `name` (`name`);

--
-- Indexes for table `tickets`
--
ALTER TABLE `tickets`
  ADD PRIMARY KEY (`id`),
  ADD KEY `fk_tickets_user` (`user_id`),
  ADD KEY `fk_tickets_agent` (`assigned_to`);

--
-- Indexes for table `ticket_attachments`
--
ALTER TABLE `ticket_attachments`
  ADD PRIMARY KEY (`id`),
  ADD KEY `ticket_id` (`ticket_id`);

--
-- Indexes for table `ticket_logs`
--
ALTER TABLE `ticket_logs`
  ADD PRIMARY KEY (`id`),
  ADD KEY `fk_log_ticket` (`ticket_id`);

--
-- Indexes for table `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `username` (`username`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `attachments`
--
ALTER TABLE `attachments`
  MODIFY `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `company_info`
--
ALTER TABLE `company_info`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `devices`
--
ALTER TABLE `devices`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;

--
-- AUTO_INCREMENT for table `tickets`
--
ALTER TABLE `tickets`
  MODIFY `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- AUTO_INCREMENT for table `ticket_attachments`
--
ALTER TABLE `ticket_attachments`
  MODIFY `id` int(10) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `ticket_logs`
--
ALTER TABLE `ticket_logs`
  MODIFY `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `users`
--
ALTER TABLE `users`
  MODIFY `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `attachments`
--
ALTER TABLE `attachments`
  ADD CONSTRAINT `fk_attach_ticket` FOREIGN KEY (`ticket_id`) REFERENCES `tickets` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `tickets`
--
ALTER TABLE `tickets`
  ADD CONSTRAINT `fk_ticket_user` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`),
  ADD CONSTRAINT `fk_tickets_agent` FOREIGN KEY (`assigned_to`) REFERENCES `users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_tickets_user` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `ticket_attachments`
--
ALTER TABLE `ticket_attachments`
  ADD CONSTRAINT `ticket_attachments_ibfk_1` FOREIGN KEY (`ticket_id`) REFERENCES `tickets` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `ticket_logs`
--
ALTER TABLE `ticket_logs`
  ADD CONSTRAINT `fk_log_ticket` FOREIGN KEY (`ticket_id`) REFERENCES `tickets` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
